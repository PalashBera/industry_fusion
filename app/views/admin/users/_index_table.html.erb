<div class="table-responsive user-detail">
  <table class="table table-hover" width="100%">
    <thead class="thead">
      <tr>
        <th scope="col">#</th>
        <th scope="col"><%= sort_link @search, :first_name, "First&nbsp;Name".html_safe %></th>
        <th scope="col"><%= sort_link @search, :last_name, "Last&nbsp;Name".html_safe %></th>
        <th scope="col"><%= sort_link @search, :email, "Email" %></th>
        <th scope="col"><%= sort_link @search, :mobile_number, "Mobile&nbsp;Number".html_safe %></th>
        <th>Activation Status</th>
        <th scope="col">Status</th>
        <th scope="col">Action</th>
      </tr>
    </thead>

    <tbody>
      <% @users.each.with_index(1) do |user, index| %>
        <tr>
          <td scope="row"><%= index %></td>
          <td><%= user&.first_name %></td>
          <td><%= user&.last_name %></td>
          <td><%= user.email %></td>
          <td><%= user.mobile_number %></td>
          <td><%= activation_status(user).html_safe %></td>
          <td><%= user_status(user) %></td>
          <td class="text-center">
            <div class="dropdown">
              <a class="dropdown-toggle icon-burger-mini" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"></a>

              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                <%= assign_warehouse_link(user) unless user.admin? %>
                <%= user.archive? ? activation_link(user) : deactivation_link(user) unless user.admin? %>
                <%= change_logs_link_using_modal(controller_name, user) unless user.admin? %>
                <%= resend_user_invitation_link(user) %>
              </div>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= render "shared/pagy" %>
