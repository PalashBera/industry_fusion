<% provide(:title, "Users") %>

<section class="mb-4 d-flex justify-content-between">
  <span class="page-header">Users</span>

  <section>
    <%= new_link_using_modal(controller_name) %>
    <%= excel_export_btn(controller_name) %>
  </section>
</section>

<div class="table-responsive">
  <table class="table table-hover" width="100%">
    <thead class="thead-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col"><%= sort_link @search, :email, "Email" %></th>
        <th scope="col"><%= sort_link @search, :first_name, "First Name" %></th>
        <th scope="col"><%= sort_link @search, :last_name, "last Name" %></th>
        <th scope="col"><%= sort_link @search, :mobile_number, "Mobile No." %></th>
        <th scope="col"><%= sort_link @search, :admin, "Admin" %></th>
      </tr>
    </thead>

    <tbody>
      <% @users.each.with_index(1) do |user, index| %>
        <tr>
          <td scope="row"><%= index %></td>
          <td><%= user.email %></td>
          <td><%= user&.first_name %></td>
          <td><%= user&.last_name %></td>
          <td><%= user.mobile_number %></td>
          <td><%= user.admin %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= render "shared/pagy" %>
<%= render "shared/form_modal_container" %>
